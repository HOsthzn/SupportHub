<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <h2><%= title %></h2>
        </div>

        <% if (error?.length > 0) { %>
            <div class="alert alert-danger" role="alert">
                <%= error %>
            </div>
        <% } %>

        <form action="/ticket/edit" method="post">
            <input type="hidden" id="id" name="id" value="<%= data.id %>">

            <div class="form-group">
                <label class="form-label" for="projectId">Project:</label>
                <select id="projectId" name="projectId" class="form-select">
                    <option value="-1">Select Project</option>
                    <% listProject.forEach(project => { %>
                        <% if(project.id === data.projectId){ %>
                            <option value="<%= project.id %>" selected><%= project.name %></option>
                        <% }else{ %>
                            <option value="<%= project.id %>"><%= project.name %></option>
                    <% }}) %>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label" for="createdBy">Created By:</label>
                <select id="createdBy" name="createdBy" class="form-select">
                    <option value="-1">Select User</option>
                    <% listUser.forEach(user => { %>
                        <% if(user.id === data.createdBy){ %>
                            <option value="<%= user.id %>" selected><%= user.name %></option>
                        <% }else{ %>
                            <option value="<%= user.id %>"><%= user.name %></option>
                    <% }}) %>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label" for="assignedTo">Assigned To:</label>
                <select id="assignedTo" name="assignedTo" class="form-select">
                    <option value="-1">Select User</option>
                    <% listUser.forEach(user => { %>
                        <% if(user.id === data.assignedTo){ %>
                            <option value="<%= user.id %>" selected><%= user.name %></option>
                        <% }else{ %>
                            <option value="<%= user.id %>"><%= user.name %></option>
                    <% }}) %>
                </select>
            </div>

            <div>
                <label class="form-label" for="status">Status: </label>
                <select id="status" name="status" class="form-select">
                    <option value="open" selected>Open</option>
                    <option value="in progress">In Progress</option>
                    <option value="resolved">Resolved</option>
                </select>
            </div>

            <div class="form-group">
                <label for="title" class="form-label">Title:</label>
                <input type="text" name="title" id="title" class="form-control" required value="<%= data.title %>">
            </div>

            <div class="form-group">
                <label for="description" class="form-label">Description:</label>
                <textarea type="text" name="description" id="description" class="form-control form-"
                          required><%= data.description %></textarea>
            </div>

            <button type="submit" class="btn btn-primary">Save</button>
            <a class="btn btn-secondary" href="/ticket/index">Back</a>
        </form>
    </div>
</div>
